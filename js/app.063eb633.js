(function(){"use strict";var t={4831:function(t,e,r){var o=r(9963),s=r(6252),i=r(3577);const c=(0,s._)("h3",null,"Tetris with vue",-1),l=(0,s._)("p",null,"조작:⬅️,⬇️,➡️ | 회전:⬆️,Lctrl | 놓기:Space",-1);function n(t,e,r,o,n,h){return(0,s.wg)(),(0,s.iD)(s.HY,null,[c,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(20,((t,e)=>(0,s._)("div",{class:"line",key:e},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,((t,r)=>(0,s._)("div",{class:(0,i.C_)(["cell",n.cells[e][r]]),key:r},null,2))),64))]))),64)),l],64)}r(7658),r(541);var h={O:[[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]]],I:[[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]]],S:[[[0,0,0,0],[0,0,1,1],[0,1,1,0],[0,0,0,0]],[[0,0,1,0],[0,0,1,1],[0,0,0,1],[0,0,0,0]],[[0,0,0,0],[0,0,1,1],[0,1,1,0],[0,0,0,0]],[[0,0,1,0],[0,0,1,1],[0,0,0,1],[0,0,0,0]]],Z:[[[0,0,0,0],[0,1,1,0],[0,0,1,1],[0,0,0,0]],[[0,0,0,1],[0,0,1,1],[0,0,1,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,0,1,1],[0,0,0,0]],[[0,0,0,1],[0,0,1,1],[0,0,1,0],[0,0,0,0]]],L:[[[0,0,0,0],[0,1,1,1],[0,1,0,0],[0,0,0,0]],[[0,0,1,0],[0,0,1,0],[0,0,1,1],[0,0,0,0]],[[0,0,0,1],[0,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,1,1,0],[0,0,1,0],[0,0,1,0],[0,0,0,0]]],J:[[[0,0,0,0],[1,1,1,0],[0,0,1,0],[0,0,0,0]],[[0,1,1,0],[0,1,0,0],[0,1,0,0],[0,0,0,0]],[[1,0,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[1,1,0,0],[0,0,0,0]]],T:[[[0,0,0,0],[0,1,1,1],[0,0,1,0],[0,0,0,0]],[[0,0,1,0],[0,0,1,1],[0,0,1,0],[0,0,0,0]],[[0,0,1,0],[0,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,0,1,0],[0,1,1,0],[0,0,1,0],[0,0,0,0]]]},a={name:"App",data(){return{types:["O","I","S","Z","L","J","T"],bag:["O","I","S","Z","L","J","T"],blocks:h,downInterval:"",colors:{O:"yellow",I:"skyblue",S:"green",Z:"red",L:"orange",J:"blue",T:"purple"},cerBag:0,cerBlock:"T",cerDir:0,cerPos:[-1,3],cerColor:"blue",stopStack:0,cells:Array.from({length:20},(()=>Array.from({length:10},(()=>"white"))))}},methods:{setBlock(t,e,r,o){const s=h[t][r];for(let i=0;i<4;i++)for(let t=0;t<4;t++)1===s[i][t]&&(this.cells[e[0]+i][e[1]+t]=o)},moveBlock(t){const e=[this.cerPos[0]+t[0],this.cerPos[1]+t[1]];return!!this.testOverlap(this.cerBlock,e,this.cerDir)&&(this.setBlock(this.cerBlock,this.cerPos,this.cerDir,"white"),this.cerPos=e,this.setBlock(this.cerBlock,this.cerPos,this.cerDir,this.cerColor),!0)},spinBlock(t){const e=(this.cerDir+4+t)%4;return!!this.testOverlap(this.cerBlock,this.cerPos,e)&&(this.setBlock(this.cerBlock,this.cerPos,this.cerDir,"white"),this.cerDir=e,this.setBlock(this.cerBlock,this.cerPos,this.cerDir,this.cerColor),!0)},putBlock(){let t=this.moveBlock([1,0]);while(t)t=this.moveBlock([1,0]);this.resetBlock()},delLine(){let t=[];for(let e=0;e<20;e++){let r=0;for(let t=0;t<10;t++)"gray"===this.cells[e][t]&&r++;10===r&&t.push(e)}console.log(t);for(let e=t.length-1;e>=0;e--)this.cells.splice(t[e],1);for(let e=0;e<t.length;e++)this.cells.unshift(Array.from({length:10},(()=>"white")))},resetBlock(){clearInterval(this.downInterval),this.setBlock(this.cerBlock,this.cerPos,this.cerDir,"gray"),this.delLine(),this.cerBag+=1,this.cerBag>6&&(this.bag.sort((()=>Math.random()-.5)),this.cerBag=0),this.cerBlock=this.bag[this.cerBag],this.cerColor=this.colors[this.cerBlock],this.cerDir=0,this.cerPos=[-1,3],this.stopStack=0,this.setBlock(this.cerBlock,this.cerPos,this.cerDir,this.cerColor),this.downInterval=setInterval(this.blockDown,500)},blockDown(){this.moveBlock([1,0])?this.stopStack=0:this.stopStack+=1,this.stopStack>1&&this.resetBlock()},resetGame(){this.bag.sort((()=>Math.random()-.5)),this.cerBlock=this.bag[this.cerBag],this.cerColor=this.colors[this.cerBlock],this.setBlock(this.cerBlock,this.cerPos,this.cerDir,this.cerColor),this.downInterval=setInterval(this.blockDown,500)},testOverlap(t,e,r){const o=h[t][r];for(let s=0;s<4;s++)for(let t=0;t<4;t++)if(1===o[s][t]){if(0>e[0]+s||e[0]+s>19||0>e[1]+t||e[1]+t>9)return!1;if("gray"===this.cells[e[0]+s][e[1]+t])return!1}return!0}},mounted(){document.querySelector("body").addEventListener("keydown",(t=>{switch(t.code){case"ArrowRight":this.moveBlock([0,1]);break;case"ArrowLeft":this.moveBlock([0,-1]);break;case"ArrowDown":this.moveBlock([1,0]);break;case"ArrowUp":this.spinBlock(-1);break;case"ControlLeft":this.spinBlock(1);break;case"Space":this.putBlock();break}})),this.resetGame()},components:{}},u=r(3744);const k=(0,u.Z)(a,[["render",n]]);var f=k;(0,o.ri)(f).mount("#app")}},e={};function r(o){var s=e[o];if(void 0!==s)return s.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,r),i.exports}r.m=t,function(){var t=[];r.O=function(e,o,s,i){if(!o){var c=1/0;for(a=0;a<t.length;a++){o=t[a][0],s=t[a][1],i=t[a][2];for(var l=!0,n=0;n<o.length;n++)(!1&i||c>=i)&&Object.keys(r.O).every((function(t){return r.O[t](o[n])}))?o.splice(n--,1):(l=!1,i<c&&(c=i));if(l){t.splice(a--,1);var h=s();void 0!==h&&(e=h)}}return e}i=i||0;for(var a=t.length;a>0&&t[a-1][2]>i;a--)t[a]=t[a-1];t[a]=[o,s,i]}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,i,c=o[0],l=o[1],n=o[2],h=0;if(c.some((function(e){return 0!==t[e]}))){for(s in l)r.o(l,s)&&(r.m[s]=l[s]);if(n)var a=n(r)}for(e&&e(o);h<c.length;h++)i=c[h],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(a)},o=self["webpackChunktetris"]=self["webpackChunktetris"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(4831)}));o=r.O(o)})();
//# sourceMappingURL=app.063eb633.js.map